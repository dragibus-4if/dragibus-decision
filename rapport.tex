\documentclass[a4paper, 11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[frenchb]{babel}
\usepackage[T1]{fontenc}
\usepackage{textcomp}
\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage[a4paper]{geometry}
\usepackage{graphicx}
\usepackage{xcolor}
\usepackage{microtype}
\usepackage{listings}
\usepackage{hyperref}

\title{Aide à la décision}
\author{Dragibus}
\date{}

\begin{document}
\maketitle
\tableofcontents
\newpage

\section{Définition}
Soit $E_M = \left\{1, 2, 3, 4, 5, 6, 7\right\} $ l'ensemble des machines. \\
Soit $E_{MP} = \left\{MP1, MP2, MP3\right\} $ l'ensemble des matières premières. \\
Soit $E_P = \left\{A, B, C, D, E, F\right\} $ l'ensemble des produits. \\
Soit $B$ le bénéfice de l'entreprise. \\
Soit $TTH$ le temps de travail hebdomadaire. \\
Soit $X(i)$ le nombre de produit $i\in E_P$ fait. \\
Soit $S(p)$ la quantité en stock de la matière première $p\in E_{MP}$. \\
Soit $TM(m)$ le temps d'utilisation de la machine $m\in E_M$.\\
Soit $G(i)$ le gain engendré par le produit $i$. \\
Soit $V(i)$ le prix de vente du produit $i$. \\
Soit $P(i)$ la perte engendré par le produit $i$. \\
Soit $Q(i, p)$ la quantité de matière $p$ nécessaire pour le produit $i$. \\
Soit $A(p)$ le prix d'achat de la matière $p$. \\
Soit $C(m)$ le cout de la machine $m$. \\
Soit $T(i, m)$ le temps d'usinage de la machine $m$ pour le produit $i$. \\

$$
\begin{array}{r l}
    G(i) =  & V(i)\cdot X(i) \\
    P(i) =  & X(i)\left(\sum_{p\in E_{MP}} A(p)Q(i, p)+ \sum_{m\in E_M} C(m)T(i, m)\right) \\
    B =     & \sum_{i\in E_P} G(i) - P(i) \\
    TM(m) = & \sum_{i\in E_P} X(i)T(i, m) \\
    TTH =   & \sum_{m\in E_M} TM(m) \\
    S(p) =  & \sum_{i\in E_P} X(i)Q(i, p) \\
\end{array}
$$

\section{Ensemble des contraintes}
$$
\begin{array}{r l}
    \forall i\in E_P, & X(i) > 0 \\
    \forall m\in E_M, & TM(m) \in [0, 4800\mbox{min}] \\
                      & TTH \in [0, 4800\mbox{min}] \\
                      & B > 0 \\
                      & S(MP1) \in [0, 650] \\
                      & S(MP2) \in [0, 820] \\
                      & S(MP3) \in [0, 585] \\
\end{array}
$$

\section{Optimisation monocritère}
\subsection{Comptable}
L'objectif du comptables et de maximiser les bénéfices de l'entreprise.
Il suffit alors de maximiser la fonction de bénéfice définie précédemment.

$G(X) = X\cdot(28~20~30~37~45~22)^t$ \\

$\mbox{CoutAchat}(A) = (1~2~1)\cdot(3~4~2)^t = 13$ \\
$\mbox{CoutAchat}(B) = (1~2~0)\cdot(3~4~2)^t = 11$ \\
$\mbox{CoutAchat}(C) = (1~1~3)\cdot(3~4~2)^t = 13$ \\
$\mbox{CoutAchat}(D) = (5~0~2)\cdot(3~4~2)^t = 19$ \\
$\mbox{CoutAchat}(E) = (0~2~6)\cdot(3~4~2)^t = 20$ \\
$\mbox{CoutAchat}(F) = (2~1~0)\cdot(3~4~2)^t = 10$ \\

Valeurs fausses pour le moment car manque de conversion minute/heure. \\
$CoupMachine(A) = (11~0~12~2~15~5~5)\cdot(2~2~1~1~2~3~1)^t = 86$ \\
$CoupMachine(B) = (15~1~1~10~0~5~3)\cdot(2~2~1~1~2~3~1)^t = 61$ \\
$CoupMachine(C) = (0~2~11~5~0~13~5)\cdot(2~2~1~1~2~3~1)^t = 64$ \\
$CoupMachine(D) = (5~8~0~4~0~12~28)\cdot(2~2~1~1~2~3~1)^t = 94$ \\
$CoupMachine(E) = (0~7~10~13~10~8~0)\cdot(2~2~1~1~2~3~1)^t = 71$ \\
$CoupMachine(D) = (10~12~15~7~25~0~7)\cdot(2~2~1~1~2~3~1)^t = 123$ \\

$P(X) = X\cdot\left((13~11~13~19~20~10) + (86~61~64~94~71~123)\right)^t$ \\
$P(X) = X\cdot(99~72~77~113~91~133)^t$ \\

$B(X) = G(X) - P(X)$ \\
$B(X) = X\cdot\mbox{something}$ \\

\subsection{Responsable d'atelier}
L'objectif du responsable atelier est de maximiser le nombre de produits fabriqués.
La fonction a maximiser est donc la suivante : \\
$ f(X) = X(A) + X(B) + X(C) + X(D) + X(E) + X(F) $

\subsection{Responsable des stocks}
Le responsable des stocks veut minimiser le nombre de produits dans son stock,
tout en gardant un bénéfice positif permettant à l'entreprise de continuer sa croissance.
On considère alors la taille de stock initial au début de la semaine de production
plus l'espace que prendront les produits fabriqués.

La fonction a minimiser est donc la suivante : \\
$f(X) = 2\cdot \sum_{p\in E_{MP}} S(p)$ \\
$f(X) = 5 X(A) + 6 X(B) + 8 X(D) + 9 X(E) + 4 X(F)$ \\

Le stock ne peut être négatif donc on contraint a être supérieur à 0.
Le minimum de cette fonction est alors 0. Il est donc nécessaire de rajouter
des contraintes afin d'avoir un résultats réalistes.
On contraint le système en prenant alors d'autres critères.
On peut maximiser le bénéfice ou la production par exemple.

\subsection{Responsable commercial}
L'objectif du responsable commercial est d'équilibrer les quantités faites par famille de produits.
La quantité de production des produits A, B et C doit être la même que celle des produits D, E et F : \\
$X(A) + X(B) + X(C) = X(D) + X(E) + X(F)$ \\

La fonction a minimiser est donc celle représentant la différence de production des deux familles : \\
$f(X) = \mbox{abs}((X(A) + X(B) + X(C)) - (X(D) + X(E) + X(F))) $

\subsection{Responsable du personnel}
Le responsable du personnel souhaite limiter l'usage des machines 1 et 5.
% TODO

\end{document}
